<!DOCTYPE html>
<html lang="ja" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Blue Chat</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* モバイル用サイドバーアニメーション */
        .sidebar-transition { transition: transform 0.3s ease-in-out; }
        .sidebar-closed { transform: translateX(-100%); }
        .sidebar-open { transform: translateX(0); }
    </style>
</head>
<body class="h-full bg-slate-50 flex items-center justify-center text-slate-700">

    <div class="w-full h-full md:h-[90vh] md:max-w-4xl bg-white md:rounded-3xl shadow-2xl overflow-hidden flex relative border border-slate-100">

        <div id="login-screen" class="absolute inset-0 z-[100] bg-white flex flex-col items-center justify-center p-8 transition-opacity duration-500">
            <div class="w-20 h-20 bg-blue-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg shadow-blue-200">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-10 h-10 text-white">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 01-.825-.242m9.345-8.334a2.126 2.126 0 00-.476-.095 48.64 48.64 0 00-8.048 0c-1.18.063-2.33.12-3.45.164m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0011.25 3c-2.115 0-4.198.137-6.197.397-1.608.209-2.76 1.614-2.76 3.235v1.81A25.11 25.11 0 002.23 13.041l-.63 6.6a1.125 1.125 0 001.29 1.196c.096-.01.192-.023.287-.04l5.63-1.057a49.19 49.19 0 0110.151-.836c.925-.065 1.76-.717 1.942-1.631l1.55-7.75a1.866 1.866 0 00-1.25-2.132z" />
                </svg>
            </div>
            <h1 class="text-2xl font-bold mb-2 text-slate-800">Welcome Back</h1>
            <p class="mb-10 text-slate-400 text-sm">グループチャットへログインしてください</p>
            <button id="login-btn" class="w-full max-w-xs bg-white border border-slate-200 hover:bg-slate-50 text-slate-600 font-bold py-3 px-6 rounded-xl shadow-sm hover:shadow transition flex items-center justify-center gap-3">
                <img src="https://www.svgrepo.com/show/475656/google-color.svg" class="w-5 h-5" alt="Google">
                Googleで続ける
            </button>
        </div>

        <aside id="sidebar" class="absolute md:relative z-40 w-64 h-full bg-slate-800 text-slate-300 flex flex-col sidebar-transition sidebar-closed md:translate-x-0 shrink-0">
            <div class="p-4 border-b border-slate-700 flex justify-between items-center">
                <h2 class="font-bold text-white tracking-wide">CHANNELS</h2>
                <button id="close-sidebar-btn" class="md:hidden text-slate-400 hover:text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            
            <div id="room-list" class="flex-1 overflow-y-auto p-2 space-y-1">
                </div>

            <div class="p-4 border-t border-slate-700">
                <button id="logout-btn" class="flex items-center gap-2 text-sm hover:text-white transition w-full">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12" />
                    </svg>
                    ログアウト
                </button>
            </div>
        </aside>
        
        <div id="sidebar-overlay" class="absolute inset-0 bg-black/50 z-30 hidden md:hidden fade-in"></div>

        <div id="chat-screen" class="flex-1 flex flex-col h-full w-full min-w-0 bg-white relative">
            <header class="bg-white/90 backdrop-blur-md border-b border-slate-100 px-4 py-3 flex justify-between items-center z-10 sticky top-0">
                <div class="flex items-center gap-3">
                    <button id="menu-btn" class="md:hidden text-slate-500 hover:text-blue-600">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                        </svg>
                    </button>

                    <div>
                        <h2 id="current-room-name" class="font-bold text-lg text-slate-800 flex items-center gap-2"># general</h2>
                    </div>
                </div>
                
                <div class="flex items-center gap-3">
                    <div class="text-xs text-blue-500 font-medium flex items-center gap-1 hidden sm:flex">
                        <span class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></span>
                        オンライン
                    </div>
                    <button id="users-btn" class="p-2 text-slate-400 hover:text-blue-500 hover:bg-blue-50 rounded-full transition" title="メンバー一覧">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z" />
                        </svg>
                    </button>
                </div>
            </header>
            
            <div id="messages-container" class="flex-1 overflow-y-auto p-4 space-y-6 bg-slate-50">
                </div>

            <div class="bg-white p-3 md:p-4 border-t border-slate-100">
                <div class="flex items-end gap-2 bg-slate-100 p-2 rounded-[1.5rem] focus-within:ring-2 focus-within:ring-blue-100 transition-shadow">
                    <textarea id="message-input" rows="1" placeholder="メッセージを入力..." class="flex-1 bg-transparent border-0 resize-none px-4 py-3 focus:ring-0 focus:outline-none text-slate-700 placeholder-slate-400 max-h-32"></textarea>
                    <button id="send-btn" class="bg-blue-600 hover:bg-blue-700 text-white rounded-full w-10 h-10 flex items-center justify-center shrink-0 transition-colors shadow-md shadow-blue-200 disabled:opacity-50 disabled:cursor-not-allowed mb-1 mr-1">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 translate-x-0.5">
                          <path d="M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="users-modal" class="absolute inset-0 z-[120] bg-black/50 hidden items-center justify-center p-4 fade-in">
        <div class="bg-white w-full max-w-sm rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[70%]">
            <div class="p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50">
                <h3 class="font-bold text-slate-700">メンバー一覧</h3>
                <button id="close-users-btn" class="text-slate-400 hover:text-slate-600">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div id="users-list" class="flex-1 overflow-y-auto p-4 space-y-3">
                </div>
        </div>
    </div>

    <script type="module" src="script.js"></script>
</body>
</html>